{% extends "layout.html" %}
{% block title %}{{ queueStream.name }} - {{ playlist.name }}{% endblock %}
{% block content %}
    <div class="row">
        <a href="{{ url_for("playlistsDetails", id=playlist.id) }}">
            <button><-Playlist--</button>
        </a>
        <a href="{{ url_for("play", playlistId=playlist.id, index=index-1, watchedId= "None") }}">
            <button><< Back</button>
        </a>
        <a href="{{ queueStream.uri }}" target="_blank">
            <button>Open URI</button>
        </a>
        <a href="{{ url_for("play", playlistId=playlist.id, index=index+1, watchedId= queueStream.id) }}">
            <button>Watched >></button>
        </a>
        <a href="{{ url_for("play", playlistId=playlist.id, index=index+1, watchedId= "None") }}">
            <button>--Skip->></button>
        </a>
    </div>

    <p>DEBUG: {{ queueStream.name }} - {{ playlist.name }}</p>

    {% if embeddedUrl %}
        <iframe src="{{ embeddedUrl }}" title="{{ queueStream.name }} video player" 
            style="width:100%; aspect-ratio:16/9;" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            allowfullscreen>
        </iframe>
    {% else %}
        <h2>This video could not be embedded, <a href="{{ queueStream.uri }}" target="_blank">watch here</a> 
        </h2>
    {% endif %}
    next/upcomming streams, play from this (same as command skip x)
    
    <a href="{{ url_for("play", playlistId=playlist.id, index=index+1, watchedId= "None") }}">
        <button>Circumvent restricted</button>
    </a>
    Add to other playlist: form
{% endblock %}
